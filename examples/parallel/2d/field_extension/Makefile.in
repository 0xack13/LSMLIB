##
## File:        Makefile.in
## Copyright:   (c) 2005-2008 Kevin T. Chu and Masa Prodanovic
## Revision:    $Revision: 1.4 $
## Modified:    $Date: 2006/12/06 00:21:06 $
## Description:	makefile for parallel 2d level set method example programs
##

BUILD_DIR = @top_builddir@

# configuration for SAMRAI library
include @samrai_inc@/../config/Makefile.config

# NOTE:  LSMLIB's Makefile.config MUST be included last because it
#        redefines the pattern rules for compiling source code
include $(BUILD_DIR)/config/Makefile.config

# Set MAKE
@SET_MAKE@

CPPFLAGS_EXTRA = -I$(FORTRAN)

PROGRAMS = FieldExtension2d_field_extension                       \
           FieldExtension2d_single_component_field_extension

all: $(PROGRAMS)

FieldExtension2d_field_extension:                                         \
		FieldExtension2d_field_extension.o                        \
		FieldExtension2d_VelocityFieldModule.o         \
		FieldExtension2d_PatchModule.o                 \
                fieldextension2d_patchmodule_fort.o            \
                fieldextension2d_velocityfield_fort.o
	$(CXX) @CXXFLAGS@ $(CXXFLAGS) $(LDFLAGS) -L$(LSMLIB_LIB_DIR) $^    \
        $(LSMLIB_LIBS) $(LDLIBS_EXTRA)                                     \
        $(LIBSAMRAI3D) $(LIBSAMRAI2D) $(LIBSAMRAI1D) $(LIBSAMRAI)          \
        $(LDLIBS) -o FieldExtension2d_field_extension
     
FieldExtension2d_single_component_field_extension:                       \
		FieldExtension2d_single_component_field_extension.o      \
		FieldExtension2d_VelocityFieldModule.o                   \
		FieldExtension2d_PatchModule.o                           \
                fieldextension2d_patchmodule_fort.o                      \
                fieldextension2d_velocityfield_fort.o
	$(CXX) $(CXXFLAGS) $(LDFLAGS) -L$(LSMLIB_LIB_DIR) $^          \
        $(LSMLIB_LIBS) $(LDLIBS_EXTRA)                                \
        $(LIBSAMRAI3D) $(LIBSAMRAI2D) $(LIBSAMRAI1D) $(LIBSAMRAI)     \
        $(LDLIBS) -o FieldExtension2d_single_component_field_extension
     
clean:
		@RM@ $(PROGRAMS)
		@RM@ *.o core 

cleanrun:
		@RM@ PI*
		@RM@ *.log
		@RM@ *.log.*
		@RM@ -r *.visit
		@RM@ -r *.restart

spotless:	clean cleanrun

include Makefile.depend

FORTRAN = fortran

fieldextension2d_patchmodule_fort.o: $(FORTRAN)/fieldextension2d_patchmodule_fort.f
	@F77@ @FFLAGS@ $(FFLAGS) $(FFLAGS_EXTRA) -c $^ 

fieldextension2d_velocityfield_fort.o: $(FORTRAN)/fieldextension2d_velocityfield_fort.f
	@F77@ @FFLAGS@ $(FFLAGS) $(FFLAGS_EXTRA) -c $^ 

